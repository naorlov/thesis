\documentclass[../diploma.tex]{subfile}


\begin{document}
    \subsection{Основные технологии для построения симуляторов}
    \label{sec:review:subsec:simulation_technologies}

    \subsubsection{Time Wrap}
    
    Time Wrap -- технология, описанная в статье Richard Fujimoto 1990
    \cite{fujimoto_parallel_1990}, позволяющая разрешать конфликты синхронизации
    при исполнении симулятора многопроцессорной системы. Пусть у нас есть поток
    {\it событий}, каждое из которых помечено временной меткой. Нередка
    ситуация, когда события приходят в неправильном порядке, например, в
    акторном симуляторе один хост может за одну единицу моделируемого времени
    отправить одно событие, другой же может отправить несколько. В исполнении,
    при котором симулятор видит сначала событие второго актора с временной метой
    меньше, чем событие первого актора, состояние симулятора становится
    неконсистентным, поэтому симулятор <<откатывает>> время симуляции назад с
    помощью специальных методов, позволяющих вернуть глобальное состояние
    симулятора на момент до прихода такого события.

    Именно идея написания функции отмены продвижения времени была прорывной на
    тот момент, что спустя 30 лет позволило создавать удобные инструменты для
    моделирования сложных систем.

    \subsubsection{SimGrid}
    \label{sec:simulation_techonogies:subsec:simgrid}
    \textit{SimGrid}\cite{simgrid}\cite{simgrid_paper} -- фреймворк, упрощающий
    разработку симуляторов распределенных систем. Он предоставляет несколько
    разных интерфейсов для языков \textit{C++}, \textit{Python} и \textit{Java}.
    В данной работе использовался интерфейс \texttt{s4u} для C++, построенный на
    \textit{акторной} модели. 

    Основная идея акторной модели состоит в том, что симулируемая система
    представляется в виде набора \textit{акторов}, работающих на \textit{хостах}
    (англ. \textit{host}). Каждый актор представляется в виде функционального
    объекта. Акторы пишутся по образу и подобию моделируемой части системы,
    вызывая специальные методы API \footnote{англ. Application Programming
    Interface -- интерфейс программирования приложений}, реализующие общение
    актора с его окружением, в которое входит хост, на котором работает актор, а
    также все хосты в системе.
    
    Во время вызова методов API фреймворк сам создает \textit{событие} в
    терминах дискретно-событийной модели
    (\ref{sec:simulation_methods:subsec:discrete_event_modeling}). SimGrid берет
    на себя работу по вычислению количества реального времени, которое займет
    указанная активность и созданию соответствующих событий начала и конца
    активностей. 
    
    Например, если актору необходимо прочитать определенное количество $s$
    информации с диска, то актор сначала получает информацию о своем хосте,
    затем он может выбрать диск, с которого будет происходить чтение данных.
    После этого актор вызывает метод API для чтения данных, передавая в качестве
    одного из параметров размер $s$. В этот момент фреймворк сам посчитает
    время, необходимое для чтения данных, исходя из скорости хоста, диска и
    запрошенного размера данных. 

    Фреймворк использует Time Wrap в качестве механизма разрешения конфликтов
    синхронизации в процесе симуляции системы.

    SimGrid зарекомендовал себя как качественный проект, на основе которого
    строится множество фреймворков моделирования, из которых часть описана в
    секции (\ref{sec:review}).

\end{document}


